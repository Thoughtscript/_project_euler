<!--https://projecteuler.net/problem=3-->

<script>
  function makePrime(target, arr = [2, 3, 5, 7]) {
  return new Promise((resolve, reject) => {
   for (let i = 0; i < target + 1; i++) {
    if (i === 1) continue;
    if (i % 2 === 0) continue;
    if (i % 3 === 0) continue;
    if (i % 5 === 0) continue;
    if (i % 7 === 0) continue;
    else {
     let flag = false;
     for (let j = 0; j < arr.length; j++) {
      if (i % arr[j] === 0) flag = true;
     }
     if (!flag) {
      arr.push(i);
     }
    }

    if (arr.length > 10002) break
   }
   
   console.log(arr)
   return resolve(arr[10000]);
  });
 }

window.onload = function() {
  makePrime(150000).then(success => console.log(success));
}

</script>